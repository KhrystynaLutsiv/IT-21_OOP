## Львівський Національний Університет Природокористування
## Кафедра Інформаційних систем та Технологій



### Звіт про виконання лабораторної роботи №15
# "Принципи проєктування програмного забезпечення"



| Виконала: студентка групи ІТ-31 Прендота Анна |
|----------------------------------------------|
| **Перевірив: Татомир А.В.**               |




**Мета: познайомитися з основними принципами та найбільш поширеними техніками рефакторингу програмного забезпечення.**


Хід роботи

1. Дати загальний опис принципів рефакторингу.
2. Ознайомитися із основними техніками рефакторингу
3. Познайомитися із поняттям “запахів коду”.


**Опис принципів рефакторингу**

Рефакторинг — це процес внесення змін у структуру існуючого коду без зміни його зовнішньої поведінки. Його основна мета — покращити якість, зрозумілість і зручність підтримки коду. Рефакторинг дозволяє зробити код чистішим, логічнішим і легшим для розширення.

Основні принципи рефакторингу:

- Покращення читабельності: Код має бути зрозумілим для всіх розробників, включно з тими, хто вперше його бачить.
- Зменшення дублювання: Видалення повторюваних частин, винесення їх у функції або класи.
- Зменшення залежностей: Уникання складних зв'язків між компонентами, що дозволяє легше змінювати та розширювати програму.
- Підтримка тестованості: Перед рефакторингом завжди корисно створити тестове покриття, яке допоможе впевнитись, що після змін функціонал залишився без змін.
- Мінімізація складності: Легше підтримувати код, який не перевантажений умовами, вкладеними структурами чи зайвими деталями.

**Основні техніки рефакторингу**

Є багато технік рефакторингу, що допомагають досягти рефакторингових цілей, тобто покращення якості коду. Ось деякі з найбільш популярних:

- Винесення методу (Extract Method): Виділення частини коду в новий метод з логічною назвою, щоб зробити основний метод коротшим і зрозумілішим.
- Інкапсуляція полів (Encapsulate Field): Заміна прямого доступу до полів класу на методи геттери/сеттери для кращого контролю та захисту даних.
- Заміна умовного оператора поліморфізмом (Replace Conditional with Polymorphism): Заміна громіздких конструкцій if-else або switch-case на поліморфізм із використанням класів або об’єктів.
- Введення параметричного об'єкта (Introduce Parameter Object): Об’єднання кількох параметрів у клас або структуру, що спрощує передачу даних і знижує складність виклику функцій.
- Заміна магічних чисел на іменовані константи (Replace Magic Number with Named Constant): Винесення чисел і рядків у константи з логічними іменами, щоб підвищити читабельність.
- Об’єднання дублікатів (Consolidate Duplicate Code): Усунення дублювання шляхом винесення загального коду в окремі функції чи методи.

**Поняття "запахів коду"**

Запахи коду (code smells) — це ознаки, що вказують на потенційні проблеми в коді, які можуть ускладнити його розуміння, підтримку чи розширення. Запахи коду не завжди є помилками, але вони вказують на області, які можуть потребувати рефакторингу.

Найпоширеніші типи запахів коду:

- Дублювання коду (Duplicate Code): Повторення однієї й тієї ж логіки в кількох місцях програми. Це збільшує ризик помилок і ускладнює підтримку.
- Великі класи (Large Class): Клас, який виконує багато функцій і перевантажений методами або атрибутами. Такий клас варто розділити на менші за принципом єдиної відповідальності.
- Довгі методи (Long Method): Методи, які виконують забагато завдань і мають багато рядків коду. Їх варто розбити на коротші, щоб полегшити читання й тестування.
- Занадто багато параметрів (Long Parameter List): Методи чи функції з великою кількістю параметрів, які складно зрозуміти і використовувати. Часто це вирішується об’єднанням параметрів у структури або класи.
- Зайва заглибленість (Excessive Nesting): Велика кількість вкладених блоків if, for або інших структур, що ускладнює читання коду. Це можна покращити через винесення частин коду у функції.
- Ледачі класи (Lazy Class): Класи, що містять дуже мало функціональності або логіки і, можливо, є зайвими. Їх можна або видалити, або інтегрувати в інші класи.
- Магічні числа (Magic Numbers): Числа чи рядки без контексту, що ускладнюють розуміння коду. Їх краще замінити іменованими константами.

**Опис коду**

Цей код реалізує програму для управління зоопарком, де можна додавати тварин, показувати список усіх тварин за типом та змушувати їх видавати характерні звуки.

1. Клас Zoo:
Цей клас використовується для управління тваринами в зоопарку. Він містить три основні методи: add_animal, show_all_animals, і make_sounds.

2. Атрибут animals:
В конструкторі (__init__) створюється атрибут self.animals, який є словником, де ключі — це типи тварин ("lion", "elephant", "monkey"), а значення — списки з іменами відповідних тварин. Цей словник дозволяє організовано зберігати тварин за їх типами.

3. Метод add_animal:
Приймає два параметри: animal_type (тип тварини) та name (ім’я тварини).
Перевіряє, чи підтримується зазначений тип тварини. Якщо тип тварини не підтримується (тобто, його немає в словнику self.animals), виводиться повідомлення про помилку.
Якщо ім'я передано як рядок, воно додається до відповідного списку, і виводиться повідомлення про успішне додавання.
Якщо ім'я не є рядком, виводиться повідомлення про помилку.

4. Метод show_all_animals:
Перевіряє, чи є в зоопарку тварини. Якщо зоопарк порожній, виводиться відповідне повідомлення.
Якщо тварини є, метод виводить список усіх тварин, згрупованих за типом. Кожен тип тварин виводиться окремо, а імена тварин перелічуються через кому.

5. Метод make_sounds:
Використовує словник sounds, що містить звуки для кожного типу тварин.
Перевіряє, чи є тварини в зоопарку. Якщо зоопарк порожній, виводиться повідомлення про відсутність тварин для видачі звуків.
Якщо тварини є, метод перебирає їх за типами і виводить звук для кожної тварини відповідного типу.

6. Приклад використання:
Спочатку створюється об'єкт zoo.
Додаються три тварини: лев на ім’я "Сімба", слон на ім’я "Дамбо" та мавпа на ім’я "Джек".
Спроба додати тигра на ім’я "Шерхан" призведе до повідомлення про помилку, оскільки тип "tiger" не підтримується.
Метод show_all_animals виведе список усіх тварин у зоопарку.
Метод make_sounds видасть звуки кожної тварини в зоопарку.

Виведення результатів
При виконанні цього коду буде отримано таке виведення:

makefile
Копіювати код
Лев Сімба доданий до зоопарку.
Слон Дамбо доданий до зоопарку.
Мавпа Джек додана до зоопарку.
Помилка: тип 'tiger' не підтримується.
У нашому зоопарку живуть:
Lions: Сімба
Elephants: Дамбо
Monkeys: Джек
Тварини в зоопарку видають звуки:
Сімба (Lion): Рррр! Я Лев.
Дамбо (Elephant): Трууу! Я Слон.
Джек (Monkey): Ууу! Я Мавпа.


[Практична робота №15](https://github.com/KhrystynaLutsiv/IT-21_OOP/blob/master/Anna_Prendota/lab%2015/zoo.py)

![UML-діаграма](https://github.com/KhrystynaLutsiv/IT-21_OOP/blob/master/Anna_Prendota/lab%2015/lab15.png) 

UML-діаграма

## Висновки. 


