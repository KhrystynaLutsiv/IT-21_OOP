## Львівський Національний Університет Природокористування
## Кафедра Інформаційних систем та Технологій



### Звіт про виконання лабораторної роботи №15
# "Рефакторинг програмного забезпечення"



| Виконав: студент групи ІТ-31 Кулішов Назар     |
|----------------------------------------------|
| Перевірив: Татомир А. В.     |



**Мета: познайомитися з основними принципами та найбільш
поширеними техніками рефакторингу програмного забезпечення.**

*Завдання*

1. Дати загальний опис принципів рефакторингу.
2. Ознайомитися із основними техніками рефакторингу.
3. Познайомитися із поняттям “запахів коду”

**Опис**

*Рефакторинг* — це процес покращення коду без зміни його функціональності. Головна мета рефакторингу — зробити код більш читабельним, простим у підтримці та менш схильним до помилок. Основні принципи рефакторингу включають:
Простота і зрозумілість: код повинен бути зрозумілим для інших розробників і самого автора в майбутньому.
Мінімізація дублювання: уникнення повторюваних фрагментів коду для підвищення його гнучкості.
Забезпечення структурованості: код організується так, щоб можна було легко додавати нові функції або змінювати існуючі.
Мінімізація залежностей: код має бути модульним, а зміни в одній частині не повинні викликати помилок в інших.
*Ось кілька основних технік рефакторингу*
Перейменування: дає можливість чіткіше зрозуміти роль змінних, методів чи класів.
Виділення методу (Extract Method): виділення фрагменту коду в окремий метод з чітким іменем, щоб полегшити читабельність.
Інкапcуляція полів: доступ до полів здійснюється через геттери та сеттери, що допомагає контролювати зміни даних.
Виділення класу (Extract Class): виділення частини відповідальності з одного класу в новий клас, якщо один клас виконує кілька завдань.
Інлайн методу (Inline Method): використовується, коли метод має мінімальну функціональність і його можна замінити безпосереднім вживанням його коду.
Видалення дублювання коду: скорочення дубльованих фрагментів для зменшення обсягу коду і уникнення можливих помилок.
Переміщення методу (Move Method): переміщення методу в інший клас, де він більш логічно підходить для його виконання.
*“Запахи коду”* *(Code Smells)* — це ознаки, які вказують на проблеми в структурі коду, не призводячи до негайних помилок, але вказують на потребу в рефакторингу. Основні типи запахів коду:
Дублювання коду: одні й ті ж фрагменти коду повторюються в різних частинах програми.
Великі класи: клас, який має занадто багато відповідальностей або методів, часто потребує розбиття на кілька класів.
Довгі методи: методи, що містять багато рядків коду, стають важкими для розуміння.
Занадто великий параметричний список: методи з великою кількістю параметрів можуть бути складними для підтримки.
Залежність від змінної: коли метод занадто залежить від глобальної змінної або змінної іншого об’єкта.
Жорсткі залежності: залежність від конкретної реалізації замість використання інтерфейсів або абстракцій, що знижує гнучкість коду.


 *Приклад "Запаху коду" а також рефакторингу*  [Приклад](./1.py)


 
## Висновки
У цій роботі я дізнався про поняття Code Smells (запах коду) а також про рефакторинг. Запах коду: *Дублювання коду*
У функціях *process_sale*, *add_product*, *add_customer*, *add_supplier* є схожі операції для отримання та додавання даних у відповідні списки.
Окрім цього, є ручне управління вибором продуктів та клієнтів у *process_sale*, що ускладнює процес додавання нових функцій. Сильна залежність від глобальних змінних:
Функції *add_product*, *add_customer*, *add_supplier*, та *process_sale* покладаються на глобальні змінні (products, customers, suppliers, sales). Це ускладнює контроль стану програми та тестування функцій в ізоляції. Рефакторинг (пропозиції): Перенести логіку роботи з продуктами, клієнтами, постачальниками та продажами в окремий клас, наприклад, InventoryManager:
Цей клас може мати методи для додавання продуктів, клієнтів, постачальників і обробки продажу. Це зменшить кількість глобальних змінних і дозволить краще структурувати дані та методи для роботи з ними.
Розділити логіку взаємодії з користувачем та основну бізнес-логіку:
Наприклад, можна виділити окремий клас UIManager, який відповідатиме за друк меню та зчитування вводу користувача. Це допоможе розділити логіку взаємодії з користувачем та бізнес-логіку.
Виділити методи для вибору продукту та клієнта:
Замість ручного вибору продуктів та клієнтів у process_sale(), можна створити методи select_product() та select_customer(), які будуть повертати обраний елемент. Це зробить код чистішим і дозволить легше змінювати цю логіку при необхідності.
Створити метод для друку інвентарю, клієнтів та історії продажів:
Замість того, щоб повторювати цикл друку в кожній функції, можна створити окремі методи в InventoryManager для кожного типу друку. Це полегшить обслуговування коду.
Рефакторинг main():
Функцію main() варто розбити на декілька менших функцій, які будуть легшими для розуміння і тестування.
